{
    "name": "policy-demo",
    "duration": 10000,
    "inputs": [
        {
            "name": "in-socket",
            "elementType": "TwitterInput",
            "configuration": {
                "consumerKey": "toHNaJSKyMdCf1RWd82xuUVM2",
                "consumerSecret": "vNPCwRZ4j8WZFeP9XQoYriR4sZnmB8DuMRrrTxPpXZwQfqr9Kv",
                "accessToken": "133253042-Loho4KS0xLJPXVddRWHNb044fBkU2d9f3gl0LwQi",
                "accessTokenSecret":"0A5rfOszsSdJLhKrWwkYSGYRpSsqrZ5ML7nb8W55G2ye1"
                
            }
        }
    ],
     "dimensions": [
        {
            "dimensionType": "TwitterStatusBucketer",
            "name": "status"
        },
       {
         "dimensionType": "PassthroughBucketer",
         "name": "userLocation"
       },
       {
         "dimensionType": "PassthroughBucketer",
         "name": "wordsN"
       },
       {
         "dimensionType": "DateTimeBucketer",
         "name": "timestamp",
         "configuration": {
           "granularity": "hour"
         }
       },
       {
         "dimensionType": "GeoHashBucketer",
         "name": "geolocation"
       }
    ],
    "rollups": [
        {
            "dimensionAndBucketTypes": [
                {
                    "dimensionName": "status",
                    "bucketType": "hastags"
                },
                {
                    "dimensionName": "status",
                    "bucketType": "urls"
                },
                {
                    "dimensionName": "status",
                    "bucketType": "retweets"
                },
                {
                  "dimensionName": "geolocation",
                  "bucketType": "precision3"
                },
                {
                  "dimensionName": "timestamp",
                  "bucketType": "minute"
                }
            ]
        }
    ],
    "outputs": [
        {
          "name": "out-mongo",
          "elementType": "MongoDbOutput",
          "configuration": {
            "clientUri" : "mongodb://localhost:27017",
            "dbName" : "sparkta",
            "multiplexer" : "true",
            "timestampFieldName" : "timestamp",
            "timestampBucket" : "minute",
            "textIndexFields" : "userLocation",
            "fieldsSeparator" : ",",
            "language" : "english",
            "granularity" : "day"
          }
        }
      ],
    "operators": [
      {
        "name": "count-operator",
        "elementType": "CountOperator",
        "configuration": {}
      },
      {
        "name": "sum-operator",
        "elementType": "SumOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "max-operator",
        "elementType": "MaxOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "min-operator",
        "elementType": "MinOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "avg-operator",
        "elementType": "AvgOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "median-operator",
        "elementType": "MedianOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "variance-operator",
        "elementType": "VarianceOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "stddev-operator",
        "elementType": "StddevOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      },
      {
        "name": "fullText-operator",
        "elementType": "FullTextOperator",
        "configuration": {
          "inputField" : "userLocation"
        }
      },
      {
        "name": "lastValue-operator",
        "elementType": "LastValueOperator",
        "configuration": {
          "inputField" : "retweets"
        }
      },
      {
        "name": "accumulator-operator",
        "elementType": "AccumulatorOperator",
        "configuration": {
          "inputField" : "wordsN"
        }
      }
    ]
    
}